<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>AllenNeuropixelsBase · AllenNeuropixels.jl</title><meta name="title" content="AllenNeuropixelsBase · AllenNeuropixels.jl"/><meta property="og:title" content="AllenNeuropixelsBase · AllenNeuropixels.jl"/><meta property="twitter:title" content="AllenNeuropixelsBase · AllenNeuropixels.jl"/><meta name="description" content="Documentation for AllenNeuropixels.jl."/><meta property="og:description" content="Documentation for AllenNeuropixels.jl."/><meta property="twitter:description" content="Documentation for AllenNeuropixels.jl."/><meta property="og:url" content="https://brendanjohnharris.github.io/AllenNeuropixels.jl/allen_neuropixels_base/"/><meta property="twitter:url" content="https://brendanjohnharris.github.io/AllenNeuropixels.jl/allen_neuropixels_base/"/><link rel="canonical" href="https://brendanjohnharris.github.io/AllenNeuropixels.jl/allen_neuropixels_base/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">AllenNeuropixels.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../allen_neuropixels/">AllenNeuropixels</a></li><li class="is-active"><a class="tocitem" href>AllenNeuropixelsBase</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>AllenNeuropixelsBase</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>AllenNeuropixelsBase</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/brendanjohnharris/AllenNeuropixels.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/brendanjohnharris/AllenNeuropixels.jl/blob/main/docs/src/allen_neuropixels_base.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AllenNeuropixelsBase._getlfp-Tuple{AbstractSession, Int64}" href="#AllenNeuropixelsBase._getlfp-Tuple{AbstractSession, Int64}"><code>AllenNeuropixelsBase._getlfp</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Get the lfp data for a probe, providing <em>indices</em> for channels and times. See function below for indexing by channel ids and time values/intervals</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/brendanjohnharris/AllenNeuropixelsBase.jl/blob/v0.4.0/src/LFP.jl#L123-L125">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AllenNeuropixelsBase.alignlfp-Tuple{Any, Any, Val{:flashes}}" href="#AllenNeuropixelsBase.alignlfp-Tuple{Any, Any, Val{:flashes}}"><code>AllenNeuropixelsBase.alignlfp</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>For flashes alignment, <code>trail=false</code> will return only the data from within the flash period. <code>trail=onset</code> will return the data from the onset of the flash to the onset of the flash through to the onset of the next flash. <code>trail=offset</code> will return the data from the offset of the flash to the onset of the next flash.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/brendanjohnharris/AllenNeuropixelsBase.jl/blob/v0.4.0/src/LFP.jl#L717-L719">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AllenNeuropixelsBase.formatspikes-Tuple{}" href="#AllenNeuropixelsBase.formatspikes-Tuple{}"><code>AllenNeuropixelsBase.formatspikes</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A function to easily grab formatted spike data for a given session, using some sensible default parameters</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/brendanjohnharris/AllenNeuropixelsBase.jl/blob/v0.4.0/src/SpikeBand.jl#L162-L164">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AllenNeuropixelsBase.getdownsampledlfp-Tuple{Any, Any}" href="#AllenNeuropixelsBase.getdownsampledlfp-Tuple{Any, Any}"><code>AllenNeuropixelsBase.getdownsampledlfp</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>If you want to downsample the LFP data, its quicker to use this function and then perform slicing afterwards (since getlfp() has to check all of the time coordinates you supply, which can be slow).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/brendanjohnharris/AllenNeuropixelsBase.jl/blob/v0.4.0/src/LFP.jl#L257-L259">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AllenNeuropixelsBase.getlfp-Tuple{AbstractSession, Int64, Union{AbstractString, Vector{&lt;:AbstractString}}}" href="#AllenNeuropixelsBase.getlfp-Tuple{AbstractSession, Int64, Union{AbstractString, Vector{&lt;:AbstractString}}}"><code>AllenNeuropixelsBase.getlfp</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Now we can overload <code>getlfp()</code> to index by structure</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/brendanjohnharris/AllenNeuropixelsBase.jl/blob/v0.4.0/src/LFP.jl#L272-L274">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AllenNeuropixelsBase.getlfp-Tuple{AbstractSession, Int64}" href="#AllenNeuropixelsBase.getlfp-Tuple{AbstractSession, Int64}"><code>AllenNeuropixelsBase.getlfp</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This is the one you should be using. Get lfp data by channel id and time intervals or vector. Also, throw error if you try to access an invalid time interval.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/brendanjohnharris/AllenNeuropixelsBase.jl/blob/v0.4.0/src/LFP.jl#L204-L206">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AllenNeuropixelsBase.getprobes-Tuple{}" href="#AllenNeuropixelsBase.getprobes-Tuple{}"><code>AllenNeuropixelsBase.getprobes</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">`getprobes()`</code></pre><p>Read the probe data from the <code>EcephysProjectCache</code> object returned by <code>ecephyscache()</code> and return it as a <code>DataFrame</code>.</p><p><strong>Returns</strong></p><p>A <code>DataFrame</code> containing the probe data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/brendanjohnharris/AllenNeuropixelsBase.jl/blob/v0.4.0/src/EcephysCache.jl#L43-L50">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AllenNeuropixelsBase.getsessiontable-Tuple{}" href="#AllenNeuropixelsBase.getsessiontable-Tuple{}"><code>AllenNeuropixelsBase.getsessiontable</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><strong>getsessiontable — Read and return the session table from the EcephysProjectCache</strong></p><pre><code class="nohighlight hljs">`getsessiontable()`</code></pre><p>Read the session table data from the <code>EcephysProjectCache</code> object returned by <code>ecephyscache</code> and returns it as a <code>DataFrame</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/brendanjohnharris/AllenNeuropixelsBase.jl/blob/v0.4.0/src/EcephysCache.jl#L27-L32">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AllenNeuropixelsBase.getspikes" href="#AllenNeuropixelsBase.getspikes"><code>AllenNeuropixelsBase.getspikes</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>We combine the spike times and spike amplitudes into one sparse array, using a given bin width.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/brendanjohnharris/AllenNeuropixelsBase.jl/blob/v0.4.0/src/SpikeBand.jl#L133-L135">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AllenNeuropixelsBase.interpmatch-Tuple{TimeseriesTools.AbstractToolsArray{T, 1, Tuple{A}} where {T, A&lt;:DimensionalData.Dimensions.TimeDim}, TimeseriesTools.AbstractToolsArray{T, 1, Tuple{A}} where {T, A&lt;:DimensionalData.Dimensions.TimeDim}}" href="#AllenNeuropixelsBase.interpmatch-Tuple{TimeseriesTools.AbstractToolsArray{T, 1, Tuple{A}} where {T, A&lt;:DimensionalData.Dimensions.TimeDim}, TimeseriesTools.AbstractToolsArray{T, 1, Tuple{A}} where {T, A&lt;:DimensionalData.Dimensions.TimeDim}}"><code>AllenNeuropixelsBase.interpmatch</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Match the time indices of the first input DimVector to the second by interpolating the first</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/brendanjohnharris/AllenNeuropixelsBase.jl/blob/v0.4.0/src/Behaviour.jl#L67-L69">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AllenNeuropixelsBase.loaddataframe" href="#AllenNeuropixelsBase.loaddataframe"><code>AllenNeuropixelsBase.loaddataframe</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">loaddataframe(file, dir=datadir)::DataFrame</code></pre><p>Load a CSV file into a DataFrame.</p><p>Arguments:</p><ul><li><code>file</code>: A string representing the name of the CSV file to be loaded.</li><li><code>dir</code> (optional): A string representing the directory containing the CSV file. Default is <code>datadir</code>.</li></ul><p>Returns:</p><p>A <code>DataFrame</code> object containing the contents of the CSV file.</p><p>Example:</p><pre><code class="language-julia hljs">using DataFrames
df = loaddataframe(&quot;mydata.csv&quot;, &quot;/path/to/my/data/&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/brendanjohnharris/AllenNeuropixelsBase.jl/blob/v0.4.0/src/AllenNeuropixelsBase.jl#L96-L115">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AllenNeuropixelsBase.matchlfp-Tuple{Any, Any}" href="#AllenNeuropixelsBase.matchlfp-Tuple{Any, Any}"><code>AllenNeuropixelsBase.matchlfp</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Adjust the times of LFP matrix Y so that they match the matrix X</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/brendanjohnharris/AllenNeuropixelsBase.jl/blob/v0.4.0/src/LFP.jl#L769-L771">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AllenNeuropixelsBase.spikematrix" href="#AllenNeuropixelsBase.spikematrix"><code>AllenNeuropixelsBase.spikematrix</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Construct a sparse array of spike counts from a Dict of spike times</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/brendanjohnharris/AllenNeuropixelsBase.jl/blob/v0.4.0/src/SpikeBand.jl#L82-L84">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AllenNeuropixelsBase.VisualBehavior.datapaths-Tuple{}" href="#AllenNeuropixelsBase.VisualBehavior.datapaths-Tuple{}"><code>AllenNeuropixelsBase.VisualBehavior.datapaths</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs"> datapaths()</code></pre><p>Get the paths to the visual behavior neuropixels data on Amazon S3 as a tree-like dictionary.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/brendanjohnharris/AllenNeuropixelsBase.jl/blob/v0.4.0/src/VisualBehavior.jl#L73-L77">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AllenNeuropixelsBase.VisualBehavior.filetree-Tuple{Vector{String}}" href="#AllenNeuropixelsBase.VisualBehavior.filetree-Tuple{Vector{String}}"><code>AllenNeuropixelsBase.VisualBehavior.filetree</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">filetree(paths::Vector{String})</code></pre><p>Creates a dictionary-like object representing the directory and file structure from a list of file paths.</p><p><strong>Arguments:</strong></p><ul><li>paths: A vector of file paths to include in the tree.</li></ul><p><strong>Returns:</strong></p><ul><li>dict_tree : A dictionary-like object representing the directory and file structure.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/brendanjohnharris/AllenNeuropixelsBase.jl/blob/v0.4.0/src/VisualBehavior.jl#L45-L55">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AllenNeuropixelsBase.VisualBehavior.getmanifesturl" href="#AllenNeuropixelsBase.VisualBehavior.getmanifesturl"><code>AllenNeuropixelsBase.VisualBehavior.getmanifesturl</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getmanifesturl(manifest_version=&quot;0.5.0&quot;)</code></pre><p>Return the URL for the neuropixels visual behavior project manifest file hosted on a given <code>hostname</code> server and version <code>manifest_version</code>.</p><p><strong>Arguments</strong></p><ul><li><code>manifest_version::String</code>: The version of the manifest file. Default value is <code>&quot;0.5.0&quot;</code>.</li></ul><p>Other manifest version numbers can be identified here: https://s3.console.aws.amazon.com/s3/buckets/visual-behavior-neuropixels-data?prefix=visual-behavior-neuropixels%2Fmanifests%2F&amp;region=us-west-2</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/brendanjohnharris/AllenNeuropixelsBase.jl/blob/v0.4.0/src/VisualBehavior.jl#L23-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AllenNeuropixelsBase.VisualBehavior.getsessionfiles-Tuple{}" href="#AllenNeuropixelsBase.VisualBehavior.getsessionfiles-Tuple{}"><code>AllenNeuropixelsBase.VisualBehavior.getsessionfiles</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getsessionfiles()</code></pre><p>Return a dictionary mapping session IDs to their corresponding file paths.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/brendanjohnharris/AllenNeuropixelsBase.jl/blob/v0.4.0/src/VisualBehavior.jl#L159-L163">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../allen_neuropixels/">« AllenNeuropixels</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.4 on <span class="colophon-date" title="Thursday 5 June 2025 00:35">Thursday 5 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
